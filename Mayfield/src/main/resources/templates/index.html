<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css_assets/style.css}">
    <title>Pastimes</title>
    <!-- Add Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
<header>
    <div class="navbar">
        <div class="logo">
            <a th:href="@{/}"><img th:src="@{/_images/logo.png}" alt="Logo" style="height: 30px;"></a>
        </div>
        <div class="search-bar">
            <form method="GET" th:action="@{/search_result}">
                <input type="text" name="query" placeholder="Search">
                <button type="submit"><i class="fa fa-search"></i></button>
            </form>
        </div>
        <nav>
            <ul>
                <li><a th:href="@{/}">Home</a></li>
                <li><a th:href="@{/catalog}">Catalog</a></li>
                <li><a th:href="@{/about_us}">About Us</a></li>
                <li><a th:href="@{/contact_us}">Contact Us</a></li>
                <!--Implement authorization for authorized users-->
                <li><a th:href="@{/dashboard}">Dashboard</a></li>
            </ul>
        </nav>
    </div>
</header>
<main>
    <section class="hero">
        <div class="left">
            <!-- Safe null handling -->

            <h3 class="head_text">Welcome to Mayfield</h3>
            <p class="body_text">Revive Your Style, Relive The Past</p>
            <a th:href="@{/catalog}"><button id="banner_btn">SHOP NOW</button></a>
        </div>
        <div class="right">
            <div class="img_container">
                <!-- Fixed: Use th:src -->
                <img th:src="@{/_images/pastime_banner.jpg}" alt="Banner" class="img" />
            </div>
        </div>
    </section>

    <h2 class="head_right" style="text-align: center;">Welcome to Mayfield</h2>
    <p class="services_p" style="text-align: center;">
        Your one-stop shop for high-quality, loved clothing.<br>
        At Mayfield, we believe in selling quality clothes...
    </p>

    <!-- Featured Items with null check -->
    <section class="heading_section" th:if="${featuredItems != null && !featuredItems.isEmpty()}">
        <h1>Featured Products</h1>
    </section>

    <section class="card_container" th:if="${featuredItems != null}">
        <div th:each="item : ${featuredItems}">
            <a th:href="@{/selected_item(ClothesID=${item.clothesID})}">
                <div class="card">
                    <div class="card_image">
                        <img th:src="@{${item.imagePath}}" th:alt="${item.name}">
                    </div>
                    <div class="card_content">
                        <h3 th:text="${item.name}">Item Name</h3>
                        <p class="size" th:text="'Size: ' + ${item.sizes}">Size: M</p>
                        <p class="price" th:text="'Price: R ' + ${item.price}">Price: R 100</p>
                        <p class="category" th:text="'Category: ' + ${item.category}">Category</p>
                        <button class="btn">
                            <i class="fa fa-shopping-cart"></i> Add to Cart
                        </button>
                    </div>
                </div>
            </a>
        </div>
    </section>

    <!-- Empty state message -->
    <div th:if="${featuredItems == null || featuredItems.isEmpty()}" style="text-align: center; padding: 20px;">
        <p>No featured items available.</p>
    </div>
</main>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="footer-col">
                <h4>quick links</h4>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="catalog.html">Catalog</a></li>
                    <li><a href="about_us.html">About Us</a></li>
                    <li><a href="contact_us.html">Contact Us</a></li>
                    <li><a href="login_register_selection.html">Login/Register</a></li>
                    <li><a href="logout.html">Logout</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>contact us</h4>
                <ul>
                    <li>Email: pastimes@gmail.com <a href="mailto:pastimes@gmail.com"></a></li>
                    <li>Phone: +27 65 937 7912 <a href="tel:+27 65 937 7912"></a></li>
                    <li>Address: 7 Wolf Street, Ferdale, Fourways, South Africa</li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>follow us</h4>
                <div class="social-links">
                    <a href="https://web.facebook.com/BMWSA" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://x.com/BMW_SA" target="_blank"><i class="fab fa-twitter"></i></a>
                    <a href="https://www.instagram.com/bmwsouthafrica/" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.linkedin.com/showcase/bmwsouthafrica/posts/?feedView=all" target="_blank"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
            <div class="footer-col">
                <h4>Working Hours</h4>
                <ul>
                    <li>Monday - Friday: 9 AM - 6 PM</li>
                    <li>Saturday: 10 AM - 4 PM</li>
                    <li>Sunday: Closed</li>
                </ul>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2024 Mayfield | All Rights Reserved.</p>
    </div>
</footer>
<script th:src="@{/javascript_assets/main.js}"></script>
</body>
</html>